<!doctype html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Local Artisans • Workshops</title>

  <!-- Core CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&family=Inter:wght@400;500&display=swap" rel="stylesheet">
  <link href="assets/css/styles.css" rel="stylesheet">

  <!-- Leaflet (map) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="anonymous"/>

  <style>
    :root{
      --bg-1:#0e0f12; --muted:#9aa4b2; --txt:#eef2ff;
      --grad: linear-gradient(135deg, #7c3aed 0%, #2563eb 45%, #06b6d4 100%);
      --grad-soft: linear-gradient(135deg, rgba(124,58,237,.18), rgba(37,99,235,.18) 45%, rgba(6,182,212,.18));
      --shadow: 0 20px 45px rgba(17,24,39,.45);
      --radius: 18px;
    }
    html,body{
      background:
        radial-gradient(1200px 700px at 10% -10%, #141827 0%, #0f1220 55%, #0b0e18 100%),
        var(--bg-1);
      color:var(--txt);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }

    .scene{ position:fixed; inset:0; pointer-events:none; z-index:-1; overflow:hidden; }
    .orb{ position:absolute; filter:blur(32px); opacity:.27; mix-blend-mode:screen; background:var(--grad); border-radius:999px; animation:float 18s ease-in-out infinite; }
    .orb.o1{width:520px;height:520px; left:-120px; top:-120px}
    .orb.o2{width:420px;height:420px; right:-120px; top:12%; animation-delay:3s}
    .orb.o3{width:480px;height:480px; left:20%; bottom:-140px; animation-delay:6s}
    @keyframes float{0%{transform:translate3d(0,0,0)}50%{transform:translate3d(0,-40px,0)}100%{transform:translate3d(0,0,0)}}

    .section{padding:70px 0}
    .section-title{display:flex;align-items:center;gap:.6rem}
    .section-title .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(135deg,#a78bfa,#60a5fa)}
    .lead-muted{color:var(--muted)!important}

    .navbar{ background:rgba(10,12,19,.55)!important; backdrop-filter: blur(10px); border-bottom:1px solid rgba(255,255,255,.06); }
    .navbar .nav-link{ position:relative; color:#e5e7eb!important; opacity:.9; }
    .navbar .nav-link.active, .navbar .nav-link:hover{opacity:1}
    .navbar .nav-link::after{content:""; position:absolute; left:0; right:0; bottom:-6px; height:2px; background:var(--grad); border-radius:999px; transform:scaleX(0); transform-origin:center; transition:transform .25s ease;}
    .navbar .nav-link:hover::after, .navbar .nav-link.active::after{transform:scaleX(1)}
    .btn-outline-secondary,.btn-outline-primary{border-color:#94a3b8; color:#e5e7eb}
    .btn-outline-secondary:hover,.btn-outline-primary:hover{background:var(--grad); border-color:transparent}

    .card{
      background:linear-gradient(180deg, rgba(21,25,36,.86), rgba(13,16,24,.92));
      border:1px solid rgba(255,255,255,.06);
      border-radius:var(--radius);
      box-shadow: 0 1px 0 rgba(255,255,255,.04), var(--shadow);
      transition:transform .25s ease, border-color .25s ease;
    }
    .card:hover{ transform:translateY(-4px); border-color:rgba(124,58,237,.35) }

    .list-group-item{
      background:linear-gradient(180deg, rgba(21,25,36,.86), rgba(13,16,24,.92));
      border:1px solid rgba(255,255,255,.06);
      border-radius:16px; margin-bottom:12px;
      transition:transform .2s ease,border-color .2s ease;
    }
    .list-group-item:hover{ transform:translateY(-3px); border-color:rgba(124,58,237,.35)}
    .list-timeline .badge{background:var(--grad-soft); border:1px solid rgba(255,255,255,.1)}
    .band{
      background:
        radial-gradient(900px 220px at 10% 0%, rgba(124,58,237,.12), transparent 60%),
        radial-gradient(900px 220px at 90% 100%, rgba(6,182,212,.12), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
      border-top:1px solid rgba(255,255,255,.06);
      border-bottom:1px solid rgba(255,255,255,.06);
    }

    .badge-filter{
      border:1px solid rgba(255,255,255,.12); background:var(--grad-soft);
      color:#e5e7eb; padding:.5rem .8rem; border-radius:999px; font-size:.85rem; cursor:pointer;
      transition:transform .2s ease, background .2s ease, border-color .2s ease; user-select:none;
    }
    .badge-filter:hover,.badge-filter:focus{transform:translateY(-2px); outline: none;}
    .badge-filter.active{border-color:transparent; background:var(--grad)}

    #scrollProgress{position:fixed;top:0;left:0;height:3px;width:0;background:var(--grad);z-index:2000;box-shadow:0 2px 6px rgba(0,0,0,.2)}
    .back-to-top{
      position:fixed; right:18px; bottom:18px; width:48px; height:48px; display:grid; place-items:center;
      border:0; background:var(--grad); color:#0b0e18; border-radius:50%;
      box-shadow:var(--shadow); opacity:0; visibility:hidden; transform:translateY(10px); transition:all .3s ease; z-index:2000;
    }
    .back-to-top.show{opacity:1; visibility:visible; transform:translateY(0)}

    /* MAP: give it a real height so Leaflet can render properly */
    #map{
      width:100%;
      height:360px;              /* fixed height */
      border-radius:12px;
    }
    @media (min-width: 992px){
      #map{ height:420px; }       /* a bit taller on large screens */
    }

    footer{ background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)); border-top:1px solid rgba(255,255,255,.06); }
    @media (max-width:576px){ .section{padding:56px 0} }
  </style>
</head>
<body>
  <div class="scene"><div class="orb o1"></div><div class="orb o2"></div><div class="orb o3"></div></div>
  <div id="scrollProgress"></div>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-body-tertiary sticky-top shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">
        <img src="assets/img/Red_Purple_Playful_Craft_Studio_Logo-removebg-preview.png" alt="Roots & Crafts Logo" height="100" class="me-2">
        <span style="font-size: 1.2em;">Roots</span>
        <span style="font-size: 2em; font-weight: bolder;">&</span>
        <span style="font-size: 1.2em;">Crafts</span>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="nav" class="collapse navbar-collapse">
        <ul class="navbar-nav me-auto my-2 my-lg-0 gap-lg-2">
          <li class="nav-item"><a class="nav-link" href="artists.html">Featured Artists</a></li>
          <li class="nav-item"><a class="nav-link" href="categories.html">Artisan Categories</a></li>
          <li class="nav-item"><a class="nav-link" href="products.html">Products</a></li>
          <li class="nav-item"><a class="nav-link active" href="workshops.html">Workshops</a></li>
          <li class="nav-item"><a class="nav-link" href="stories.html">Stories</a></li>
          <li class="nav-item"><a class="nav-link" href="gallery.html">Gallery</a></li>
        </ul>
        <div class="d-flex gap-2">
          <a class="btn btn-outline-secondary" href="register-artisan.html"><i class="bi bi-brush"></i> Become an Artisan</a>
          <a class="btn btn-outline-primary" href="login.html" aria-label="Login"><i class="bi bi-person"></i></a>
          <a class="btn btn-primary" href="cart.html" aria-label="Cart"><i class="bi bi-bag"></i></a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero / Filters -->
  <section class="band section py-5">
    <div class="container">
      <div class="d-flex flex-wrap align-items-center gap-3 justify-content-between">
        <div class="section-title mb-0" data-aos="fade-up">
          <span class="dot"></span><h2 class="mb-0 fw-bold">Upcoming Workshops</h2>
        </div>
        <div class="d-flex flex-wrap gap-2" data-aos="fade-up" data-aos-delay="60">
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-search"></i></span>
            <input id="searchInput" class="form-control" placeholder="Search (e.g., pottery, ajrakh, Pune)" />
          </div>
          <button id="searchBtn" class="btn btn-primary" type="button">Search</button>
        </div>
      </div>

      <div class="d-flex flex-wrap gap-2 mt-3" data-aos="fade-up" data-aos-delay="100">
        <button class="badge-filter active" data-filter="all" type="button">All</button>
        <button class="badge-filter" data-filter="Pottery" type="button">Pottery</button>
        <button class="badge-filter" data-filter="Textiles" type="button">Textiles</button>
        <button class="badge-filter" data-filter="Woodwork" type="button">Woodwork</button>
        <button class="badge-filter" data-filter="Metal" type="button">Metal</button>

        <span class="badge-filter" data-city="Pune" role="button" tabindex="0">Pune</span>
        <span class="badge-filter" data-city="Ahmedabad" role="button" tabindex="0">Ahmedabad</span>
        <span class="badge-filter" data-city="Saharanpur" role="button" tabindex="0">Saharanpur</span>

        <button id="resetFilters" class="btn btn-outline-secondary ms-auto" type="button">Reset</button>
      </div>
    </div>
  </section>

  <!-- Featured slider -->
  <section class="section">
    <div class="container">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <div class="section-title mb-0"><span class="dot"></span><h4 class="mb-0 fw-semibold">Featured This Month</h4></div>
        <span class="small lead-muted">Swipe →</span>
      </div>
      <div class="swiper" id="workshopSwiper" data-aos="fade-up">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <div class="card p-4 h-100">
              <h5 class="mb-1">Beginner’s Pottery — Hand Building</h5>
              <p class="lead-muted small mb-2">Pune • 14 Dec • ₹999</p>
              <a href="#list" class="btn btn-sm btn-primary">Register</a>
            </div>
          </div>
          <div class="swiper-slide">
            <div class="card p-4 h-100">
              <h5 class="mb-1">Ajrakh Block Printing Basics</h5>
              <p class="lead-muted small mb-2">Ahmedabad • 20 Dec • ₹1299</p>
              <a href="#list" class="btn btn-sm btn-primary">Register</a>
            </div>
          </div>
          <div class="swiper-slide">
            <div class="card p-4 h-100">
              <h5 class="mb-1">Wood Carving for Beginners</h5>
              <p class="lead-muted small mb-2">Saharanpur • 05 Jan • ₹899</p>
              <a href="#list" class="btn btn-sm btn-primary">Register</a>
            </div>
          </div>
        </div>
        <div class="swiper-pagination"></div>
      </div>
    </div>
  </section>

  <!-- Workshops list -->
  <div id="list" class="container py-4">
    <ul id="wsList" class="list-group list-group-flush list-timeline">
      <li class="list-group-item d-flex align-items-center gap-3"
          data-aos="fade-up" data-category="Pottery" data-city="Pune"
          data-name="Beginner’s Pottery Hand Building Pune 14 Dec 10:00 13:00 999 12 seats">
        <div class="badge rounded-pill p-3"><i class="bi bi-calendar2-event"></i></div>
        <div class="flex-grow-1">
          <h6 class="mb-1">Beginner’s Pottery — Hand Building</h6>
          <div class="small text-secondary">Pune • 14 Dec, 10:00–13:00 • ₹999 • 12 seats</div>
        </div>
        <button class="btn btn-primary" data-register type="button">Register</button>
      </li>

      <li class="list-group-item d-flex align-items-center gap-3"
          data-aos="fade-up" data-aos-delay="40" data-category="Textiles" data-city="Ahmedabad"
          data-name="Ajrakh Block Printing Basics Ahmedabad 20 Dec 11:00 15:00 1299 16 seats">
        <div class="badge rounded-pill p-3"><i class="bi bi-calendar2-event"></i></div>
        <div class="flex-grow-1">
          <h6 class="mb-1">Ajrakh Block Printing Basics</h6>
          <div class="small text-secondary">Ahmedabad • 20 Dec, 11:00–15:00 • ₹1299 • 16 seats</div>
        </div>
        <button class="btn btn-primary" data-register type="button">Register</button>
      </li>

      <li class="list-group-item d-flex align-items-center gap-3"
          data-aos="fade-up" data-aos-delay="80" data-category="Woodwork" data-city="Saharanpur"
          data-name="Wood Carving for Beginners Saharanpur 05 Jan 09:30 12:30 899 10 seats">
        <div class="badge rounded-pill p-3"><i class="bi bi-calendar2-event"></i></div>
        <div class="flex-grow-1">
          <h6 class="mb-1">Wood Carving for Beginners</h6>
          <div class="small text-secondary">Saharanpur • 05 Jan, 09:30–12:30 • ₹899 • 10 seats</div>
        </div>
        <button class="btn btn-primary" data-register type="button">Register</button>
      </li>

      <li class="list-group-item d-flex align-items-center gap-3"
          data-aos="fade-up" data-category="Metal" data-city="Pune"
          data-name="Dhokra Casting Intro Pune 22 Dec 14:00 17:00 1499 8 seats">
        <div class="badge rounded-pill p-3"><i class="bi bi-calendar2-event"></i></div>
        <div class="flex-grow-1">
          <h6 class="mb-1">Dhokra Casting — Intro</h6>
          <div class="small text-secondary">Pune • 22 Dec, 14:00–17:00 • ₹1499 • 8 seats</div>
        </div>
        <button class="btn btn-primary" data-register type="button">Register</button>
      </li>

      <li class="list-group-item d-flex align-items-center gap-3"
          data-aos="fade-up" data-category="Pottery" data-city="Ahmedabad"
          data-name="Wheel Throwing Basics Ahmedabad 28 Dec 10:00 13:00 1299 10 seats">
        <div class="badge rounded-pill p-3"><i class="bi bi-calendar2-event"></i></div>
        <div class="flex-grow-1">
          <h6 class="mb-1">Wheel Throwing — Basics</h6>
          <div class="small text-secondary">Ahmedabad • 28 Dec, 10:00–13:00 • ₹1299 • 10 seats</div>
        </div>
        <button class="btn btn-primary" data-register type="button">Register</button>
      </li>

      <li class="list-group-item d-flex align-items-center gap-3"
          data-aos="fade-up" data-category="Textiles" data-city="Pune"
          data-name="Natural Dyeing Lab Pune 04 Jan 10:00 13:00 1199 14 seats">
        <div class="badge rounded-pill p-3"><i class="bi bi-calendar2-event"></i></div>
        <div class="flex-grow-1">
          <h6 class="mb-1">Natural Dyeing Lab</h6>
          <div class="small text-secondary">Pune • 04 Jan, 10:00–13:00 • ₹1199 • 14 seats</div>
        </div>
        <button class="btn btn-primary" data-register type="button">Register</button>
      </li>
    </ul>
  </div>

  <!-- Calendar + Map -->
  <section class="band section">
    <div class="container">
      <div class="row g-4">
        <div class="col-lg-7" data-aos="fade-up">
          <div class="card p-4 h-100">
            <h5 class="fw-bold mb-3"><i class="bi bi-calendar3 me-1"></i> December & January Calendar</h5>
            <!-- (Calendar content unchanged from your version) -->
            <div class="row row-cols-7 g-2 text-center small">
              <div class="col"><div class="p-2 border rounded">Mon</div></div>
              <div class="col"><div class="p-2 border rounded">Tue</div></div>
              <div class="col"><div class="p-2 border rounded">Wed</div></div>
              <div class="col"><div class="p-2 border rounded">Thu</div></div>
              <div class="col"><div class="p-2 border rounded">Fri</div></div>
              <div class="col"><div class="p-2 border rounded">Sat</div></div>
              <div class="col"><div class="p-2 border rounded">Sun</div></div>

              <div class="col"><div class="p-3 border rounded">&nbsp;</div></div>
              <div class="col"><div class="p-3 border rounded">2</div></div>
              <div class="col"><div class="p-3 border rounded">3</div></div>
              <div class="col"><div class="p-3 border rounded">4</div></div>
              <div class="col"><div class="p-3 border rounded">5</div></div>
              <div class="col"><div class="p-3 border rounded">6</div></div>
              <div class="col"><div class="p-3 border rounded">7</div></div>

              <div class="col"><div class="p-3 border rounded">8</div></div>
              <div class="col"><div class="p-3 border rounded">9</div></div>
              <div class="col"><div class="p-3 border rounded">10</div></div>
              <div class="col"><div class="p-3 border rounded">11</div></div>
              <div class="col"><div class="p-3 border rounded">12</div></div>
              <div class="col"><div class="p-3 border rounded">13</div></div>
              <div class="col"><div class="p-3 border rounded bg-gradient" style="background:var(--grad);">14</div></div>

              <div class="col"><div class="p-3 border rounded">15</div></div>
              <div class="col"><div class="p-3 border rounded">16</div></div>
              <div class="col"><div class="p-3 border rounded">17</div></div>
              <div class="col"><div class="p-3 border rounded">18</div></div>
              <div class="col"><div class="p-3 border rounded">19</div></div>
              <div class="col"><div class="p-3 border rounded bg-gradient" style="background:var(--grad);">20</div></div>
              <div class="col"><div class="p-3 border rounded">21</div></div>

              <div class="col"><div class="p-3 border rounded">22</div></div>
              <div class="col"><div class="p-3 border rounded">23</div></div>
              <div class="col"><div class="p-3 border rounded">24</div></div>
              <div class="col"><div class="p-3 border rounded">25</div></div>
              <div class="col"><div class="p-3 border rounded">26</div></div>
              <div class="col"><div class="p-3 border rounded">27</div></div>
              <div class="col"><div class="p-3 border rounded bg-gradient" style="background:var(--grad);">28</div></div>

              <div class="col"><div class="p-3 border rounded">29</div></div>
              <div class="col"><div class="p-3 border rounded">30</div></div>
              <div class="col"><div class="p-3 border rounded">31</div></div>
              <div class="col"><div class="p-3 border rounded bg-gradient" style="background:var(--grad);">5 Jan</div></div>
              <div class="col"><div class="p-3 border rounded">&nbsp;</div></div>
              <div class="col"><div class="p-3 border rounded">&nbsp;</div></div>
              <div class="col"><div class="p-3 border rounded">&nbsp;</div></div>
            </div>
            <p class="small lead-muted mt-3 mb-0">Highlighted days indicate scheduled workshops.</p>
          </div>
        </div>

        <div class="col-lg-5" data-aos="fade-up" data-aos-delay="80">
          <div class="card p-4 h-100">
            <h5 class="fw-bold mb-3"><i class="bi bi-geo-alt me-1"></i> Locations</h5>

            <!-- Map with fixed height -->
            <div id="map"></div>

            <div class="d-flex gap-2 flex-wrap mt-3">
              <span class="badge-filter" data-city="Pune" role="button" tabindex="0">Pune</span>
              <span class="badge-filter" data-city="Ahmedabad" role="button" tabindex="0">Ahmedabad</span>
              <span class="badge-filter" data-city="Saharanpur" role="button" tabindex="0">Saharanpur</span>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Instructors / Testimonials -->
  <section class="section">
    <div class="container">
      <div class="row g-4">
        <div class="col-lg-6" data-aos="fade-up">
          <div class="card p-4 h-100">
            <h5 class="fw-bold mb-3"><i class="bi bi-people me-1"></i> Instructors</h5>
            <div class="row g-3">
              <div class="col-6"><div class="p-3 border rounded"><div class="fw-semibold">Anaya (Pottery)</div><div class="small lead-muted">Studio owner • 8 yrs exp.</div></div></div>
              <div class="col-6"><div class="p-3 border rounded"><div class="fw-semibold">Meera (Textiles)</div><div class="small lead-muted">Ajrakh specialist • 6 yrs</div></div></div>
              <div class="col-6"><div class="p-3 border rounded"><div class="fw-semibold">Om (Woodwork)</div><div class="small lead-muted">Hand tools • 10 yrs</div></div></div>
              <div class="col-6"><div class="p-3 border rounded"><div class="fw-semibold">Rahul (Metal)</div><div class="small lead-muted">Dhokra craft • 7 yrs</div></div></div>
            </div>
            <a href="artists.html" class="btn btn-outline-primary mt-3">Meet all artists</a>
          </div>
        </div>
        <div class="col-lg-6" data-aos="fade-up" data-aos-delay="70">
          <div class="card p-4 h-100">
            <h5 class="fw-bold mb-3"><i class="bi bi-chat-square-quote me-1"></i> Testimonials</h5>
            <blockquote class="small lead-muted mb-3">“Loved the pottery class! The hand-building basics were so approachable and fun.” — Aditi, Pune</blockquote>
            <blockquote class="small lead-muted mb-3">“Natural dyeing opened a new world for me. Great teacher and friendly vibe.” — Nishant, Mumbai</blockquote>
            <blockquote class="small lead-muted mb-0">“Ajrakh workshop was super hands-on. I actually printed my first scarf!” — Riya, Ahmedabad</blockquote>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="band section">
    <div class="container">
      <div class="section-title mb-3"><span class="dot"></span><h2 class="mb-0 fw-bold">Workshop FAQs</h2></div>
      <div class="accordion" id="faq">
        <div class="accordion-item">
          <h2 class="accordion-header" id="q1"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a1">Do I need prior experience?</button></h2>
          <div id="a1" class="accordion-collapse collapse" data-bs-parent="#faq"><div class="accordion-body small lead-muted">No. Most sessions are beginner-friendly with all tools provided.</div></div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="q2"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a2">What should I bring?</button></h2>
          <div id="a2" class="accordion-collapse collapse" data-bs-parent="#faq"><div class="accordion-body small lead-muted">Comfortable clothing, water bottle, and lots of curiosity.</div></div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="q3"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a3">Refunds & rescheduling</button></h2>
          <div id="a3" class="accordion-collapse collapse" data-bs-parent="#faq"><div class="accordion-body small lead-muted">Reschedule up to 48 hours before. Refunds follow our Policies page.</div></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Email CTA -->
  <section class="section">
    <div class="container">
      <div class="card p-5 text-center" data-aos="zoom-in">
        <h3 class="fw-bold mb-2">Be first to know about new workshops</h3>
        <p class="lead-muted mb-4">Monthly digest. No spam.</p>
        <div class="row g-2 justify-content-center">
          <div class="col-sm-7"><input class="form-control form-control-lg" placeholder="Email address" aria-label="Email"></div>
          <div class="col-sm-3 d-grid"><button class="btn btn-primary btn-lg" type="button">Subscribe</button></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="mt-5 border-top">
    <div class="container py-5">
      <div class="row g-4">
        <div class="col-md-4">
          <h5 class="fw-bold">Local Artisans</h5>
          <p class="small text-secondary">A curated marketplace celebrating handcraft, culture, and community.</p>
        </div>
        <div class="col-md-2">
          <h6 class="fw-semibold">Explore</h6>
          <ul class="list-unstyled small">
            <li><a href="artists.html" class="link-body-emphasis">Artists</a></li>
            <li><a href="products.html" class="link-body-emphasis">Products</a></li>
            <li><a href="workshops.html" class="link-body-emphasis">Workshops</a></li>
            <li><a href="stories.html" class="link-body-emphasis">Stories</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h6 class="fw-semibold">Info</h6>
          <ul class="list-unstyled small">
            <li><a href="about.html">About</a></li>
            <li><a href="faq.html">Help & FAQ</a></li>
            <li><a href="policies.html">Policies</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
        <div class="col-md-4">
          <h6 class="fw-semibold">Impact</h6>
          <div class="d-flex gap-4">
            <div><span class="h4 mb-0 d-block" id="countArtisans">0</span><span class="small text-secondary">Artisans</span></div>
            <div><span class="h4 mb-0 d-block" id="countProducts">0</span><span class="small text-secondary">Products</span></div>
            <div><span class="h4 mb-0 d-block" id="countWorkshops">0</span><span class="small text-secondary">Workshops</span></div>
          </div>
        </div>
      </div>
      <div class="small text-secondary mt-3">© 2025 Local Artisans. Handcrafted with ♥.</div>
    </div>
  </footer>

  <button id="backToTop" class="back-to-top" aria-label="Back to top">
    <i class="bi bi-arrow-up-short fs-4"></i>
  </button>

  <!-- Core JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/countup.js@2.8.0/dist/CountUp.min.js"></script>
  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous"></script>

  <script src="assets/js/app.js"></script>

  <script>
    if (window.AOS) AOS.init({ duration:800, once:true, easing:'ease-out-quart' });

    const path = location.pathname.split('/').pop() || 'workshops.html';
    document.querySelectorAll('.navbar .nav-link').forEach(a => {
      const href = a.getAttribute('href'); if (href && href.indexOf(path) !== -1) a.classList.add('active');
    });

    const progressEl = document.getElementById('scrollProgress');
    const backTop = document.getElementById('backToTop');
    const onScroll = () => {
      const h = document.documentElement;
      const scrolled = (h.scrollTop) / ((h.scrollHeight - h.clientHeight) || 1) * 100;
      if (progressEl) progressEl.style.width = scrolled + '%';
      if (backTop){ h.scrollTop > 240 ? backTop.classList.add('show') : backTop.classList.remove('show'); }
    };
    document.addEventListener('scroll', onScroll, { passive:true });
    backTop && backTop.addEventListener('click', () => window.scrollTo({ top:0, behavior:'smooth' }));

    if (window.Swiper && document.querySelector('#workshopSwiper')) {
      new Swiper('#workshopSwiper', {
        slidesPerView: 1.1,
        spaceBetween: 16,
        loop: true,
        autoplay: { delay: 2600, disableOnInteraction: false },
        pagination: { el: '.swiper-pagination', clickable: true },
        breakpoints: { 576:{slidesPerView:2}, 992:{slidesPerView:3} }
      });
    }

    // MAP
    let map, markers = {};
    const cityCoords = {
      "Pune": [18.5204, 73.8567],
      "Ahmedabad": [23.0225, 72.5714],
      "Saharanpur": [29.9679, 77.5510]
    };

    function initMap(){
      const mapEl = document.getElementById('map');
      if (!mapEl || !window.L) return;

      map = L.map(mapEl, { scrollWheelZoom: false }).setView([20.5937, 78.9629], 5);

      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 19,
  attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);


      Object.entries(cityCoords).forEach(([name, [lat, lng]])=>{
        const m = L.marker([lat, lng]).addTo(map).bindPopup(`<strong>${name}</strong> workshops`);
        markers[name] = m;
      });

      // ensure visible after AOS layout pass
      setTimeout(()=> map.invalidateSize(), 200);

      const group = L.featureGroup(Object.values(markers));
      map.fitBounds(group.getBounds().pad(0.3));

      // also fix on resize
      window.addEventListener('resize', ()=> map.invalidateSize());
      document.addEventListener('aos:in', ()=> map.invalidateSize());
    }

    function focusCity(name){
      if (!map || !markers[name]) return;
      const latlng = markers[name].getLatLng();
      map.flyTo(latlng, 11, { duration: 0.8 });
      markers[name].openPopup();
    }

    document.addEventListener('DOMContentLoaded', initMap);

    // Filters + search
    const list = document.getElementById('wsList');
    const filterBtns = document.querySelectorAll('.badge-filter');
    const resetBtn = document.getElementById('resetFilters');
    const searchInput = document.getElementById('searchInput');
    const searchBtn = document.getElementById('searchBtn');
    let activeCategory = 'all';
    let activeCity = 'all';

    function applyFilters(){
      const q = (searchInput?.value || '').trim().toLowerCase();
      [...list.children].forEach(li=>{
        if (!li.matches('.list-group-item')) return;
        const cat = (li.getAttribute('data-category') || '').toLowerCase();
        const city = (li.getAttribute('data-city') || '').toLowerCase();
        const name = (li.getAttribute('data-name') || '').toLowerCase();
        const catOk = activeCategory==='all' || cat===activeCategory.toLowerCase();
        const cityOk = activeCity==='all' || city===activeCity.toLowerCase();
        const textOk = !q || name.includes(q);
        li.style.display = (catOk && cityOk && textOk) ? '' : 'none';
      });
    }
    function setActive(el, groupSelector){
      document.querySelectorAll(groupSelector).forEach(b=>b.classList.remove('active'));
      el.classList.add('active');
    }

    filterBtns.forEach(btn=>{
      const asButton = ()=> {
        const cat = btn.getAttribute('data-filter');
        const city = btn.getAttribute('data-city');
        if (cat){ setActive(btn, '.badge-filter[data-filter]'); activeCategory = cat; }
        if (city){
          setActive(btn, '.badge-filter[data-city]'); activeCity = city;
          focusCity(city);
        }
        applyFilters();
      };
      btn.addEventListener('click', asButton);
      btn.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); asButton(); }});
    });

    resetBtn?.addEventListener('click', ()=>{
      activeCategory = 'all'; activeCity = 'all';
      if (searchInput) searchInput.value = '';
      document.querySelectorAll('.badge-filter').forEach(b=>b.classList.remove('active'));
      const allBtn = document.querySelector('.badge-filter[data-filter="all"]');
      allBtn && allBtn.classList.add('active');
      applyFilters();
      if (map && Object.keys(markers).length){
        const group = L.featureGroup(Object.values(markers));
        map.fitBounds(group.getBounds().pad(0.3));
        map.invalidateSize();
      }
    });

    searchBtn?.addEventListener('click', applyFilters);
    searchInput?.addEventListener('keydown', e=>{ if(e.key==='Enter') applyFilters(); });

    document.querySelectorAll('[data-register]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const orig = btn.innerHTML;
        btn.disabled = true;
        btn.innerHTML = '<i class="bi bi-check2-circle me-1"></i>Registered';
        setTimeout(()=>{ btn.innerHTML = orig; btn.disabled = false; }, 1200);
      });
    });

    if (window.gsap && window.ScrollTrigger) {
      gsap.registerPlugin(ScrollTrigger);
      gsap.utils.toArray('#wsList .list-group-item').forEach((item, i)=>{
        gsap.from(item, {
          y: 24, opacity: 0,
          scrollTrigger: { trigger: item, start: 'top 85%' },
          duration:.45, delay:(i % 6) * 0.02
        });
      });
    }

    const counters = [
      { id:'countArtisans', end:120, suffix:'+' },
      { id:'countProducts', end:540, suffix:'+' },
      { id:'countWorkshops', end:28,  suffix:'' }
    ];
    const startCounters = () => {
      if (!window.CountUp) return;
      counters.forEach(c=>{
        const el = document.getElementById(c.id);
        if (!el || el.dataset.done) return;
        const cu = new CountUp(c.id, c.end, { duration:1.6, suffix:c.suffix });
        if (!cu.error){ cu.start(); el.dataset.done = "1"; }
      });
    };
    const obs = new IntersectionObserver((entries)=>{ entries.forEach(e=>{ if (e.isIntersecting) startCounters(); }); }, {threshold:.4});
    document.querySelectorAll('#countArtisans, #countProducts, #countWorkshops').forEach(el=>obs.observe(el));
  </script>
</body>
</html>
