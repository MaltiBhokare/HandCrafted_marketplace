<!doctype html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Local Artisans • Artisan Registration</title>

  <!-- Core CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&family=Inter:wght@400;500&display=swap" rel="stylesheet">

  <style>
    :root{
      --txt:#eef2ff; --muted:#9aa4b2; --bg:#0b0e18;
      --grad:linear-gradient(135deg,#7c3aed 0%,#2563eb 45%,#06b6d4 100%);
      --radius:18px; --shadow:0 20px 45px rgba(17,24,39,.45);
    }
    html,body{
      background:
        radial-gradient(1200px 700px at 12% -10%, #141827 0%, #0f1220 55%, #0b0e18 100%),
        var(--bg);
      color:var(--txt);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
    }

    /* Ambient blobs */
    .scene{position:fixed;inset:0;pointer-events:none;z-index:-1;overflow:hidden}
    .orb{position:absolute;filter:blur(32px);opacity:.28;mix-blend-mode:screen;background:var(--grad);border-radius:999px;animation:float 18s ease-in-out infinite}
    .orb.o1{width:520px;height:520px;left:-120px;top:-140px}
    .orb.o2{width:420px;height:420px;right:-140px;top:10%;animation-delay:3s}
    .orb.o3{width:480px;height:480px;left:22%;bottom:-160px;animation-delay:6s}
    @keyframes float{0%{transform:translate3d(0,0,0)}50%{transform:translate3d(0,-40px,0)}100%{transform:translate3d(0,0,0)}}

    .navbar{ background:rgba(10,12,19,.55)!important; backdrop-filter: blur(10px); border-bottom:1px solid rgba(255,255,255,.06); }

    .section{ padding:76px 0 }
    .band{
      background:
        radial-gradient(900px 220px at 10% 0%, rgba(124,58,237,.12), transparent 60%),
        radial-gradient(900px 220px at 90% 100%, rgba(6,182,212,.12), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
      border-top:1px solid rgba(255,255,255,.06);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .section-title{display:flex;align-items:center;gap:.6rem}
    .section-title .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(135deg,#a78bfa,#60a5fa)}
    .lead-muted{ color:var(--muted)!important }

    .card-elevated{
      background:linear-gradient(180deg, rgba(21,25,36,.86), rgba(13,16,24,.94));
      border:1px solid rgba(255,255,255,.06);
      border-radius:var(--radius); box-shadow:0 1px 0 rgba(255,255,255,.04), var(--shadow);
      transition:transform .25s ease, border-color .25s ease;
    }
    .card-elevated:hover{ transform:translateY(-3px); border-color:rgba(124,58,237,.30) }

    /* Hero */
    .hero-badge{display:inline-flex;align-items:center;gap:.5rem;padding:.35rem .7rem;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06)}

    /* Metrics */
    .metric .num{font-size:1.8rem;font-weight:800}
    .metric .lbl{font-size:.8rem;color:var(--muted)}

    /* Wizard */
    .progress{height:8px;background:rgba(255,255,255,.08)}
    .progress-bar{background:linear-gradient(90deg,#7c3aed,#06b6d4)}

    .step-shell{position:relative}
    .step-index{display:inline-flex;align-items:center;gap:.5rem}
    .step-index .bubble{
      width:28px;height:28px;border-radius:50%;
      display:grid;place-items:center;font-weight:800;color:#0b0e18;
      background:var(--grad);box-shadow:0 8px 20px rgba(2,6,23,.35)
    }

    /* Timeline */
    .timeline{position:relative;padding-left:68px}
    .timeline::before{content:"";position:absolute;left:32px;top:0;bottom:0;width:2px;background:rgba(255,255,255,.14)}
    .t-item{position:relative;margin-bottom:26px}
    .t-item::before{content:"";position:absolute;left:24px;top:.45rem;width:16px;height:16px;border-radius:50%;background:var(--grad);box-shadow:0 0 0 4px rgba(124,58,237,.18)}
    .t-item:last-child{margin-bottom:0}

    /* Gallery preview */
    .preview-tile{border-radius:14px;overflow:hidden;border:1px solid rgba(255,255,255,.06);background:rgba(255,255,255,.03)}
    .preview-img{aspect-ratio:4/3;background:radial-gradient(120% 120% at 20% 10%, rgba(124,58,237,.25), rgba(6,182,212,.08), transparent 70%)}

    /* Testimonials */
    .quote{font-size:1.05rem}
    .quote i{opacity:.75}

    /* Back-to-top */
    .back-to-top{
      position:fixed; right:18px; bottom:18px; width:48px; height:48px; display:grid; place-items:center;
      border:0; background:var(--grad); color:#0b0e18; border-radius:50%;
      box-shadow:var(--shadow); opacity:0; visibility:hidden; transform:translateY(10px); transition:all .3s ease; z-index:2000;
    }
    .back-to-top.show{opacity:1; visibility:visible; transform:translateY(0)}

    @media (max-width:576px){ .section{padding:56px 0} .timeline{padding-left:56px} .timeline::before{left:28px} .t-item::before{left:20px} }
    .preview-img img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 10px;
}

  </style>
</head>
<body>
  <!-- ambience -->
  <div class="scene"><div class="orb o1"></div><div class="orb o2"></div><div class="orb o3"></div></div>

  <!-- NAV -->
  <nav class="navbar navbar-expand-lg bg-body-tertiary sticky-top shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">
        <img src="assets/img/Red_Purple_Playful_Craft_Studio_Logo-removebg-preview.png" alt="Roots & Crafts Logo" height="52" class="me-2">
        <span style="font-size:1.1em;">Roots</span><span style="font-size:1.4em;font-weight:800;">&</span><span style="font-size:1.1em;">Crafts</span>
      </a>
      <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#nav"><span class="navbar-toggler-icon"></span></button>
      <div id="nav" class="collapse navbar-collapse">
        <ul class="navbar-nav me-auto my-2 my-lg-0 gap-lg-2">
          <li class="nav-item"><a class="nav-link" href="artists.html">Featured Artists</a></li>
          <li class="nav-item"><a class="nav-link" href="categories.html">Artisan Categories</a></li>
          <li class="nav-item"><a class="nav-link" href="products.html">Products</a></li>
          <li class="nav-item"><a class="nav-link" href="workshops.html">Workshops</a></li>
          <li class="nav-item"><a class="nav-link" href="stories.html">Stories</a></li>
          <li class="nav-item"><a class="nav-link" href="gallery.html">Gallery</a></li>
        </ul>
        <div class="d-flex gap-2">
          <a class="btn btn-outline-secondary" href="register-artisan.html"><i class="bi bi-brush"></i> Become an Artisan</a>
          <a class="btn btn-outline-primary" href="login.html"><i class="bi bi-person"></i></a>
          <a class="btn btn-primary" href="cart.html"><i class="bi bi-bag"></i></a>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="band section">
    <div class="container">
      <div class="row g-4 align-items-center">
        <div class="col-lg-8" data-aos="fade-right">
          <span class="hero-badge"><i class="bi bi-stars"></i> Join our artisan community</span>
          <h1 class="fw-bold mt-2 mb-1">Become an Artisan</h1>
          <p class="lead-muted">Apply in minutes, showcase your craft, and reach buyers who value handmade.</p>
          <div class="row g-3 mt-2">
            <div class="col-6 col-md-4">
              <div class="card-elevated p-3 text-center metric">
                <div id="mArtisans" class="num">0</div><div class="lbl">Artisans</div>
              </div>
            </div>
            <div class="col-6 col-md-4">
              <div class="card-elevated p-3 text-center metric">
                <div id="mProducts" class="num">0</div><div class="lbl">Products</div>
              </div>
            </div>
            <div class="col-12 col-md-4">
              <div class="card-elevated p-3 text-center metric">
                <div id="mWorkshops" class="num">0</div><div class="lbl">Workshops/yr</div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4" data-aos="zoom-in">
          <div class="card-elevated p-3">
            <h6 class="fw-semibold mb-2"><i class="bi bi-patch-check-fill me-1"></i> Why join?</h6>
            <ul class="small lead-muted mb-0">
              <li>Curated marketplace with fair pricing</li>
              <li>Marketing boosts and featured stories</li>
              <li>Workshop hosting opportunities</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- WIZARD -->
  <section class="section pt-0">
    <div class="container">
      <div class="row g-4">
        <div class="col-lg-8">
          <div class="card-elevated p-4 step-shell" data-aos="fade-up">
            <div class="d-flex align-items-center justify-content-between mb-3">
              <div class="step-index"><span class="bubble" id="bubbleIdx">1</span><span id="stepTitle" class="fw-semibold">Basic Info</span></div>
              <div class="small lead-muted"><span id="stepNow">Step 1</span> / 3</div>
            </div>
            <div class="progress mb-3" role="progressbar" aria-label="Progress">
              <div id="progressBar" class="progress-bar" style="width: 33%;"></div>
            </div>

            <form id="artisanForm">
              <!-- STEP 1 -->
              <div class="step" data-step="1">
                <div class="row g-3">
                  <div class="col-md-6"><label class="form-label small">Full name</label><input id="fName" class="form-control" placeholder="Full name" required></div>
                  <div class="col-md-6"><label class="form-label small">Email</label><input id="fEmail" class="form-control" type="email" placeholder="you@example.com" required></div>
                  <div class="col-12"><label class="form-label small">Region / City</label><input id="fCity" class="form-control" placeholder="City" required></div>
                </div>
                <div class="d-flex justify-content-end mt-3">
                  <button class="btn btn-primary next">Next</button>
                </div>
              </div>

              <!-- STEP 2 -->
              <div class="step d-none" data-step="2">
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label small">Category</label>
                    <select id="fCategory" class="form-select" required>
                      <option selected disabled value="">Choose Category</option>
                      <option>Pottery</option><option>Textiles</option><option>Woodwork</option><option>Metal</option>
                    </select>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label small">Materials</label>
                    <input id="fMaterials" class="form-control" placeholder="e.g., clay, indigo, bamboo">
                  </div>
                  <div class="col-12">
                    <label class="form-label small">Portfolio image URLs</label>
                    <input id="fImages" class="form-control" placeholder="Comma separated URLs (optional)">
                  </div>
                </div>
                <div class="d-flex justify-content-between mt-3">
                  <button class="btn btn-outline-secondary prev">Back</button>
                  <button class="btn btn-primary next">Next</button>
                </div>
              </div>

              <!-- STEP 3 -->
              <div class="step d-none" data-step="3">
                <p class="small lead-muted">Review your details before submitting.</p>
                <div class="row g-3">
                  <div class="col-md-6">
                    <div class="preview-tile p-3">
                      <h6 class="fw-semibold mb-1">Profile</h6>
                      <div class="small"><span class="text-secondary">Name:</span> <span id="rName">—</span></div>
                      <div class="small"><span class="text-secondary">Email:</span> <span id="rEmail">—</span></div>
                      <div class="small"><span class="text-secondary">City:</span> <span id="rCity">—</span></div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="preview-tile p-3">
                      <h6 class="fw-semibold mb-1">Craft</h6>
                      <div class="small"><span class="text-secondary">Category:</span> <span id="rCategory">—</span></div>
                      <div class="small"><span class="text-secondary">Materials:</span> <span id="rMaterials">—</span></div>
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="preview-tile p-3">
                      <h6 class="fw-semibold mb-2">Portfolio preview</h6>
                      <div id="rImages" class="row g-2">
                        <!-- Filled by JS -->
                      </div>
                    </div>
                  </div>
                </div>
                <div class="d-flex justify-content-between mt-3">
                  <button class="btn btn-outline-secondary prev">Back</button>
                  <button class="btn btn-success" type="button" id="submitBtn">Submit</button>
                </div>
              </div>
            </form>
          </div>
        </div>

        <!-- Live Summary / Help -->
        <div class="col-lg-4">
          <div class="card-elevated p-4" data-aos="fade-left">
            <h6 class="fw-semibold mb-2"><i class="bi bi-eye me-1"></i> Live Summary</h6>
            <div class="small lead-muted">Your application snapshot updates as you type.</div>
            <hr class="opacity-10">
            <div class="small">
              <div><span class="text-secondary">Name:</span> <span id="sName">—</span></div>
              <div><span class="text-secondary">Email:</span> <span id="sEmail">—</span></div>
              <div><span class="text-secondary">City:</span> <span id="sCity">—</span></div>
              <div><span class="text-secondary">Category:</span> <span id="sCategory">—</span></div>
              <div><span class="text-secondary">Materials:</span> <span id="sMaterials">—</span></div>
            </div>
            <div class="mt-3">
              <a href="#howItWorks" class="btn btn-outline-secondary btn-sm">How it works</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- WHY JOIN -->
  <section class="section pt-0">
    <div class="container">
      <div class="section-title mb-3"><span class="dot"></span><h4 class="mb-0 fw-semibold">Why join Local Artisans?</h4></div>
      <div class="row g-3">
        <div class="col-md-4" data-aos="zoom-in"><div class="card-elevated p-4 h-100"><i class="bi bi-megaphone fs-3"></i><h6 class="fw-semibold mt-2 mb-1">Marketing support</h6><div class="small lead-muted">Get featured in stories, newsletters, and curated drops.</div></div></div>
        <div class="col-md-4" data-aos="zoom-in" data-aos-delay="60"><div class="card-elevated p-4 h-100"><i class="bi bi-people fs-3"></i><h6 class="fw-semibold mt-2 mb-1">Community</h6><div class="small lead-muted">Meet fellow makers; collaborate on themed collections.</div></div></div>
        <div class="col-md-4" data-aos="zoom-in" data-aos-delay="120"><div class="card-elevated p-4 h-100"><i class="bi bi-cash-coin fs-3"></i><h6 class="fw-semibold mt-2 mb-1">Fair earnings</h6><div class="small lead-muted">Transparent fees and direct artisan payouts.</div></div></div>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section id="howItWorks" class="section pt-0">
    <div class="container">
      <div class="section-title mb-3"><span class="dot"></span><h4 class="mb-0 fw-semibold">How it works</h4></div>
      <div class="card-elevated p-4" data-aos="fade-up">
        <div class="timeline">
          <div class="t-item" data-aos="fade-up"><h6 class="fw-semibold mb-1">Apply</h6><div class="small lead-muted">Fill this short application with your basic info and craft details.</div></div>
          <div class="t-item" data-aos="fade-up" data-aos-delay="60"><h6 class="fw-semibold mb-1">Review</h6><div class="small lead-muted">Our team reviews within 3–5 business days.</div></div>
          <div class="t-item" data-aos="fade-up" data-aos-delay="120"><h6 class="fw-semibold mb-1">Onboarding</h6><div class="small lead-muted">Set up your seller page; we guide you on best practices.</div></div>
          <div class="t-item" data-aos="fade-up" data-aos-delay="180"><h6 class="fw-semibold mb-1">Launch</h6><div class="small lead-muted">Publish your first collection and join upcoming drops.</div></div>
        </div>
      </div>
    </div>
  </section>

  



  <!-- TESTIMONIALS -->
  <section class="section pt-0">
    <div class="container">
      <div class="section-title mb-3"><span class="dot"></span><h4 class="mb-0 fw-semibold">Artisan voices</h4></div>
      <div class="row g-3">
        <div class="col-md-6" data-aos="fade-up"><div class="card-elevated p-4 h-100"><div class="quote"><i class="bi bi-quote me-1"></i> My work finally found the right audience. The team helped me plan a launch that sold out in 3 days.</div><div class="small mt-2 text-secondary">— Kavita, Potter</div></div></div>
        <div class="col-md-6" data-aos="fade-up" data-aos-delay="80"><div class="card-elevated p-4 h-100"><div class="quote"><i class="bi bi-quote me-1"></i> Workshops gave me a new income channel. The onboarding was simple and supportive.</div><div class="small mt-2 text-secondary">— Rafi, Block Printer</div></div></div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="section pt-0">
    <div class="container">
      <div class="card-elevated p-4 p-md-5 text-center" data-aos="fade-up">
        <h5 class="fw-bold">Ready to share your craft?</h5>
        <p class="lead-muted mb-3">Submit your application and we’ll reach out soon.</p>
        <a href="#top" class="btn btn-primary">Start at the top</a>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="mt-5 border-top">
    <div class="container py-5">
      <div class="row g-4">
        <div class="col-md-4">
          <h5 class="fw-bold">Local Artisans</h5>
          <p class="small text-secondary">A curated marketplace celebrating handcraft, culture, and community.</p>
        </div>
        <div class="col-md-2">
          <h6 class="fw-semibold">Explore</h6>
          <ul class="list-unstyled small">
            <li><a href="artists.html" class="link-body-emphasis">Artists</a></li>
            <li><a href="products.html" class="link-body-emphasis">Products</a></li>
            <li><a href="workshops.html" class="link-body-emphasis">Workshops</a></li>
            <li><a href="stories.html" class="link-body-emphasis">Stories</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h6 class="fw-semibold">Info</h6>
          <ul class="list-unstyled small">
            <li><a href="about.html">About</a></li>
            <li><a href="faq.html">Help & FAQ</a></li>
            <li><a href="policies.html">Policies</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
        <div class="col-md-4">
          <h6 class="fw-semibold">Impact</h6>
          <div class="d-flex gap-4">
            <div><span class="h4 mb-0 d-block" id="countArtisans">0</span><span class="small text-secondary">Artisans</span></div>
            <div><span class="h4 mb-0 d-block" id="countProducts">0</span><span class="small text-secondary">Products</span></div>
            <div><span class="h4 mb-0 d-block" id="countWorkshops2">0</span><span class="small text-secondary">Workshops</span></div>
          </div>
        </div>
      </div>
      <div class="small text-secondary mt-3">© 2025 Local Artisans. Handcrafted with ♥.</div>
    </div>
  </footer>

  <!-- Back-to-top -->
  <button id="backToTop" class="back-to-top" aria-label="Back to top"><i class="bi bi-arrow-up-short fs-4"></i></button>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/countup.js@2.8.0/dist/CountUp.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <script>
    // AOS
    if (window.AOS) AOS.init({ duration:800, once:true, easing:'ease-out-quart' });

    // Counters (hero + footer)
    const c1 = new CountUp('mArtisans', 420, {duration:1.2}); c1.start();
    const c2 = new CountUp('mProducts', 1800, {duration:1.2}); c2.start();
    const c3 = new CountUp('mWorkshops', 65, {duration:1.2}); c3.start();
    const f1 = new CountUp('countArtisans', 420, {duration:1}); f1.start();
    const f2 = new CountUp('countProducts', 1800, {duration:1}); f2.start();
    const f3 = new CountUp('countWorkshops2', 65, {duration:1}); f3.start();

    // Swiper
    new Swiper('#portfolioSwiper', {
      slidesPerView: 1.1,
      spaceBetween: 12,
      breakpoints: {576:{slidesPerView:2}, 992:{slidesPerView:3}, 1200:{slidesPerView:4}},
      pagination: { el: '.swiper-pagination', clickable: true },
    });

    // Back-to-top
    const backTop = document.getElementById('backToTop');
    document.addEventListener('scroll', () => {
      document.documentElement.scrollTop > 240 ? backTop.classList.add('show') : backTop.classList.remove('show');
    }, { passive:true });
    backTop.addEventListener('click', () => window.scrollTo({ top:0, behavior:'smooth' }));

    // Wizard logic
    const form = document.getElementById('artisanForm');
    const steps = Array.from(form.querySelectorAll('.step'));
    let current = 0;

    const stepTitles = ['Basic Info','Your Craft','Review & Submit'];
    const progressBar = document.getElementById('progressBar');
    const bubbleIdx = document.getElementById('bubbleIdx');
    const stepTitleEl = document.getElementById('stepTitle');
    const stepNow = document.getElementById('stepNow');

    function updateHeader(){
      bubbleIdx.textContent = current + 1;
      stepTitleEl.textContent = stepTitles[current];
      stepNow.textContent = 'Step ' + (current + 1);
      progressBar.style.width = ((current + 1) / steps.length * 100) + '%';
    }
    function showStep(idx){
      steps.forEach((s,i)=> s.classList.toggle('d-none', i!==idx));
      updateHeader();
      window.scrollTo({ top: document.querySelector('.step-shell').getBoundingClientRect().top + window.scrollY - 120, behavior:'smooth' });
    }

    // Summary live update
    const fields = {
      fName:  document.getElementById('fName'),
      fEmail: document.getElementById('fEmail'),
      fCity:  document.getElementById('fCity'),
      fCategory: document.getElementById('fCategory'),
      fMaterials: document.getElementById('fMaterials'),
      fImages: document.getElementById('fImages')
    };
    const mirrors = {
      sName: document.getElementById('sName'), rName: document.getElementById('rName'),
      sEmail: document.getElementById('sEmail'), rEmail: document.getElementById('rEmail'),
      sCity: document.getElementById('sCity'), rCity: document.getElementById('rCity'),
      sCategory: document.getElementById('sCategory'), rCategory: document.getElementById('rCategory'),
      sMaterials: document.getElementById('sMaterials'), rMaterials: document.getElementById('rMaterials')
    };
    Object.values(fields).forEach(el=>{
      el.addEventListener('input', ()=>{
        if (el === fields.fName){ mirrors.sName.textContent = mirrors.rName.textContent = el.value || '—'; }
        if (el === fields.fEmail){ mirrors.sEmail.textContent = mirrors.rEmail.textContent = el.value || '—'; }
        if (el === fields.fCity){ mirrors.sCity.textContent = mirrors.rCity.textContent = el.value || '—'; }
        if (el === fields.fCategory){ mirrors.sCategory.textContent = mirrors.rCategory.textContent = el.value || '—'; }
        if (el === fields.fMaterials){ mirrors.sMaterials.textContent = mirrors.rMaterials.textContent = el.value || '—'; }
        if (el === fields.fImages){
          const wrap = document.getElementById('rImages'); wrap.innerHTML = '';
          (el.value || '').split(',').map(x=>x.trim()).filter(Boolean).slice(0,6).forEach(url=>{
            const col = document.createElement('div'); col.className='col-6 col-md-4';
            col.innerHTML = '<div class="preview-tile"><img src="'+url+'" class="w-100" style="aspect-ratio:4/3;object-fit:cover" alt=""></div>';
            wrap.appendChild(col);
          });
        }
      });
    });

    // Next/Prev with basic validation
    form.addEventListener('click', (e)=>{
      if (e.target.classList.contains('next')){
        e.preventDefault();
        if (current === 0){
          if (!fields.fName.value || !fields.fEmail.checkValidity() || !fields.fCity.value){
            form.reportValidity(); return;
          }
        }
        if (current === 1){
          if (!fields.fCategory.value){ form.reportValidity(); return; }
        }
        current = Math.min(current + 1, steps.length - 1);
        showStep(current);
      }
      if (e.target.classList.contains('prev')){
        e.preventDefault();
        current = Math.max(current - 1, 0);
        showStep(current);
      }
    });

    document.getElementById('submitBtn')?.addEventListener('click', ()=>{
      // Demo submission
      alert('Application submitted! (demo)');
      current = 0; showStep(current);
      form.reset();
      // clear mirrors
      Object.values(mirrors).forEach(n=> n.textContent = '—');
      document.getElementById('rImages').innerHTML = '';
    });

    // Init
    showStep(current);
  </script>
</body>
</html>
